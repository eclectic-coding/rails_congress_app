- provide(:title, @user.name)

%div{class:"container mx-auto mt-8"}
  %div.flex.justify-center
    = gravatar_for @user
    %div
      %h1
        = @user.name
      %p{class: "text-indigo-700 hover:text-pink-700 hover:font-semibold"}
        = link_to 'Edit profile', edit_user_path(current_user), class: ""
  .py-8
    %div.text-center
    - if @user_list.count == 0
      %div{class: "mx-auto max-w-md text-center bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3", role:"alert"}
        %h2.text-2xl.font-semibold.leading-tight.mb-5
          My Follow List
        %p.font-bold.text-xl
          No Members currently followed
        %button.my-5.btn.btn-primary
          =link_to "Senators", senators_path
        %button.my-5.btn.btn-primary
          =link_to "Representative", senators_path
    - elsif @user_list.count > 0
      %h2.text-center.text-2xl.font-semibold.leading-tight.mb-5
        My Follow List
      %div{class: "overflow-x-auto text-center"}
        .inline-block.shadow.rounded-lg.mx-auto
          %table{class: "table-auto leading-normal"}
            %thead
              %tr
                %th.px-5.py-3.border-b-2.border-gray-200.bg-gray-100.text-left.text-xs.font-semibold.text-gray-800.uppercase.tracking-wider
                  Name
                %th.px-5.py-3.border-b-2.border-gray-200.bg-gray-100.text-left.text-xs.font-semibold.text-gray-800.uppercase.tracking-wider
                  Chamber
                %th.px-5.py-3.border-b-2.border-gray-200.bg-gray-100.text-left.text-xs.font-semibold.text-gray-800.uppercase.tracking-wider
                  State
                %th.px-5.py-3.border-b-2.border-gray-200.bg-gray-100.text-left.text-xs.font-semibold.text-gray-800.uppercase.tracking-wider
                  Party
                %th.px-5.py-3.border-b-2.border-gray-200.bg-gray-100.text-left.text-xs.font-semibold.text-gray-800.uppercase.tracking-wider
                  unfollow
            %tbody
              - @user_list.sort_by(&:last_name).each do |list|
                %tr
                  %td.px-2.py-2.border-b.border-gray-200.bg-white.text-sm
                    .flex.items-center
                      .flex-shrink-0.w-10.h-10
                        = link_to senator_path(list.member_id), "aria-label": "Link to #{list.short_title} #{list.last_name}'s profile page." do
                          = image_tag "https://theunitedstates.io/images/congress/225x275/#{list.mem_id}.jpg", alt: "Link to #{list.short_title} #{list.last_name}'s profile page.", class: "w-full h-full rounded-full"
                      .ml-3
                        %p{class: "text-gray-900 whitespace-no-wrap text-indigo-700 hover:text-pink-700 hover:font-semibold"}
                          = link_to list.full_name, senator_path(list.mem_id)
                  %td.px-5.py-5.border-b.border-gray-200.bg-white.text-sm
                    %p.text-gray-900.whitespace-no-wrap.capitalize
                      = list.chamber
                  %td.px-5.py-5.border-b.border-gray-200.bg-white.text-sm
                    %p.text-gray-900.whitespace-no-wrap
                      = list.state
                  %td.px-5.py-5.border-b.border-gray-200.bg-white.text-sm
                    %span.relative.inline-block.px-3.py-1.leading-tight
                      %span.absolute.inset-0{"aria-hidden": "true"}
                      %span.relative
                        = list.party
                  %td.px-5.py-5.border-b.border-gray-200.bg-white.text-sm
                    %p.text-gray-900.whitespace-no-wrap
                      = link_to follow_list_path(list.mem_id), method: :delete, data: { confirm: 'Are you sure?'} do
                        %span{class: "fas fa-trash text-red-700 hover:text-indigo-500 cursor-pointer"}